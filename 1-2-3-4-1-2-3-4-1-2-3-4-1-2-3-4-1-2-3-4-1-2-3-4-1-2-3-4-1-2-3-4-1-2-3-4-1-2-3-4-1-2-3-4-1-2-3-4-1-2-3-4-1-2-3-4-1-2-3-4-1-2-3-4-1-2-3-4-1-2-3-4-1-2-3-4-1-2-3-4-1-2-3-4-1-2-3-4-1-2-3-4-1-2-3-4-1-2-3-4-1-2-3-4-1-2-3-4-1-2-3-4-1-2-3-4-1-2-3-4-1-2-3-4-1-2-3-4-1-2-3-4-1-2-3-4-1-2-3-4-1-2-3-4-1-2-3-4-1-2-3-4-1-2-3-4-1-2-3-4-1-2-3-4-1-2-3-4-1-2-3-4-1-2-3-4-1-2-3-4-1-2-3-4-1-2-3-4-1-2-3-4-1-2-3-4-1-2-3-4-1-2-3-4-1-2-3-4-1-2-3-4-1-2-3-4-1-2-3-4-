getgenv().SecureMode = true
local Rayfield = loadstring(game:HttpGet('https://raw.githubusercontent.com/shlexware/Rayfield/main/source'))()
local Window = Rayfield:CreateWindow({
	Name = "Universe Universal",
	LoadingTitle = "Loading in progress...",
	LoadingSubtitle = "Scripted By Fire OfficialDC Tested By Mi_aio",
	ConfigurationSaving = {
		Enabled = true,
		FolderName = true,
		FileName = "Universe Universal"
	},
        Discord = {
        	Enabled = true,
        	Invite = "https://discord.com/invite/Af3fQxbgED",
        	RememberJoins = true
        },
	KeySystem = true,
	KeySettings = {
		Title = "Universe Universal KeySytem",
		Subtitle = "Key System",
		Note = "Join the discord server for the key https://discord.com/invite/Af3fQxbgED",
		FileName = "UniverseUniversal",
		SaveKey = false,
		GrabKeyFromSite = true,
		Key = "https://pastebin.com/raw/57uXpGyv"
	}
})

local LocalPlayerTab = Window:CreateTab("Local Player", 4483362458)
local Section = LocalPlayerTab:CreateSection("Humanoid")

local Slider = LocalPlayerTab:CreateSlider({
	Name = "WalkSpeed",
	Range = {0, 500},
	Increment = 1,
	Suffix = "WalkSpeed",
	CurrentValue = 16,
	Flag = "Slider1",
	Callback = function(Value)
		local player = game.Players.LocalPlayer
		local character = player and player.Character
		local humanoid = character and character:FindFirstChild("Humanoid")
		
		if humanoid then
			humanoid.WalkSpeed = Value
		end
	end,
})

local JumpHeightSlider = LocalPlayerTab:CreateSlider({
	Name = "JumpHeight",
	Range = {0, 200},
	Increment = 1,
	Suffix = "Studs",
	CurrentValue = 50,
	Flag = "Slider2",
	Callback = function(Value)
		local player = game.Players.LocalPlayer
		local character = player and player.Character
		local humanoid = character and character:FindFirstChild("Humanoid")
		
		if humanoid then
			humanoid.JumpPower = Value
		end
	end,
})

local Section = LocalPlayerTab:CreateSection("Cframe")

local flying = false
local speed = 2
local bodyVelocity
local bodyGyro

local Toggle = LocalPlayerTab:CreateToggle({
	Name = "Cframe Fly",
	CurrentValue = false,
	Flag = "Toggle1",
	Callback = function(Value)
		local player = game.Players.LocalPlayer
		local character = player.Character or player.CharacterAdded:Wait()
		local humanoidRootPart = character:WaitForChild("HumanoidRootPart")
		
		if Value then
			flying = true

			bodyVelocity = Instance.new("BodyVelocity")
			bodyVelocity.Velocity = Vector3.new(0, 0, 0)
			bodyVelocity.MaxForce = Vector3.new(4000, 4000, 4000)
			bodyVelocity.Parent = humanoidRootPart

			bodyGyro = Instance.new("BodyGyro")
			bodyGyro.CFrame = humanoidRootPart.CFrame
			bodyGyro.MaxTorque = Vector3.new(4000, 4000, 4000)
			bodyGyro.P = 10000
			bodyGyro.Parent = humanoidRootPart

			while flying do
				local moveDirection = Vector3.new(0, 0, 0)
				local camera = workspace.CurrentCamera
				local lookVector = camera.CFrame.LookVector

				if player:FindFirstChild("Humanoid") then
					local humanoid = player.Humanoid
					if humanoid.MoveDirection.magnitude > 0 then
						moveDirection = (lookVector * humanoid.MoveDirection.z + camera.CFrame.RightVector * humanoid.MoveDirection.x).unit
					end
				end
				
				bodyVelocity.Velocity = moveDirection * speed
				bodyGyro.CFrame = camera.CFrame
				
				wait(0.1)
			end
		else
			flying = false

			if bodyVelocity then
				bodyVelocity:Destroy()
				bodyVelocity = nil
			end

			if bodyGyro then
				bodyGyro:Destroy()
				bodyGyro = nil
			end
		end
	end,
})
Rayfield:LoadConfiguration()
